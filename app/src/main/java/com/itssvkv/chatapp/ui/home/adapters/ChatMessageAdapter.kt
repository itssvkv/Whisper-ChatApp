package com.itssvkv.chatapp.ui.home.adaptersimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport androidx.recyclerview.widget.DiffUtilimport androidx.recyclerview.widget.ListAdapterimport androidx.recyclerview.widget.RecyclerViewimport com.itssvkv.chatapp.databinding.ChatMessageRecyclerBindingimport com.itssvkv.chatapp.models.ChatMessageclass ChatMessageAdapter(private val currentUserId: String) :    ListAdapter<ChatMessage, ChatMessageAdapter.MessageViewHolder>(Comparator) {    inner class MessageViewHolder(private val binding: ChatMessageRecyclerBinding) :        RecyclerView.ViewHolder(binding.root) {        fun bind(item: ChatMessage) {            if (item.senderId == currentUserId) {                binding.leftMessage.visibility = View.GONE                binding.rightMessage.visibility = View.VISIBLE                binding.rightMessage.text = item.message            } else {                binding.rightMessage.visibility = View.GONE                binding.leftMessage.visibility = View.VISIBLE                binding.leftMessage.text = item.message            }        }    }    private object Comparator : DiffUtil.ItemCallback<ChatMessage>() {        override fun areItemsTheSame(oldItem: ChatMessage, newItem: ChatMessage) =            oldItem.message == newItem.message        override fun areContentsTheSame(oldItem: ChatMessage, newItem: ChatMessage) =            oldItem == newItem    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MessageViewHolder {        val binding =            ChatMessageRecyclerBinding.inflate(LayoutInflater.from(parent.context), parent, false)        return MessageViewHolder(binding)    }    override fun onBindViewHolder(holder: MessageViewHolder, position: Int) {        val item = getItem(position)        item.let {            holder.bind(it)        }    }}